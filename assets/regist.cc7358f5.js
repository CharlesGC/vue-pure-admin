import{M as d}from"./motion.0c663bd5.js";import{u as w,a as D}from"./verifyCode.5b134244.js";import{T as V}from"./index.a437d699.js";import{y as g,L as B,ac as h,I as i,o as U,D as A,S as u,H as l,C as e,q as R,J as f,G as P,cp as T}from"./index.b2cfb768.js";import{u as p}from"./hooks.16c1305b.js";const N={class:"w-full flex justify-between"},S=f(" \u6211\u5DF2\u4ED4\u7EC6\u9605\u8BFB\u5E76\u63A5\u53D7 "),z=f(" \u300A\u9690\u79C1\u653F\u7B56\u300B "),q=f(" \u786E\u5B9A "),G=f(" \u8FD4\u56DE "),L=g({setup(H){const _=B(!1),n=B(!1),r=h({username:"",phone:"",verifyCode:"",password:"",repeatPassword:""}),C=B(),{isDisabled:y,text:v}=w(),F=[{validator:(m,o,t)=>{o===""?t(new Error("\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801")):r.password!==o?t(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!")):t()},trigger:"blur"}],x=async m=>{n.value=!0,m&&await m.validate((o,t)=>{if(o)_.value?setTimeout(()=>{V.success("\u6CE8\u518C\u6210\u529F"),n.value=!1},2e3):(n.value=!1,V.warning("\u8BF7\u52FE\u9009\u9690\u79C1\u653F\u7B56"));else return n.value=!1,t})};function E(){w().end(),T().SET_CURRENTPAGE(0)}return(m,o)=>{const t=i("el-input"),s=i("el-form-item"),c=i("el-button"),b=i("el-checkbox"),k=i("el-form");return U(),A(k,{ref_key:"ruleFormRef",ref:C,model:e(r),rules:e(D),size:"large"},{default:u(()=>[l(e(d),null,{default:u(()=>[l(s,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}],prop:"username"},{default:u(()=>[l(t,{clearable:"",modelValue:e(r).username,"onUpdate:modelValue":o[0]||(o[0]=a=>e(r).username=a),placeholder:"\u8D26\u53F7","prefix-icon":e(p)("user")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:100},{default:u(()=>[l(s,{prop:"phone"},{default:u(()=>[l(t,{clearable:"",modelValue:e(r).phone,"onUpdate:modelValue":o[1]||(o[1]=a=>e(r).phone=a),placeholder:"\u624B\u673A\u53F7\u7801","prefix-icon":e(p)("iphone")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:150},{default:u(()=>[l(s,{prop:"verifyCode"},{default:u(()=>[R("div",N,[l(t,{clearable:"",modelValue:e(r).verifyCode,"onUpdate:modelValue":o[2]||(o[2]=a=>e(r).verifyCode=a),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801","prefix-icon":e(p)("ri:shield-keyhole-line",{online:!0})},null,8,["modelValue","prefix-icon"]),l(c,{disabled:e(y),class:"ml-2",onClick:o[3]||(o[3]=a=>e(w)().start(C.value,"phone"))},{default:u(()=>[f(P(e(v)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),l(e(d),{delay:200},{default:u(()=>[l(s,{prop:"password"},{default:u(()=>[l(t,{clearable:"","show-password":"",modelValue:e(r).password,"onUpdate:modelValue":o[4]||(o[4]=a=>e(r).password=a),placeholder:"\u5BC6\u7801","prefix-icon":e(p)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:250},{default:u(()=>[l(s,{rules:F,prop:"repeatPassword"},{default:u(()=>[l(t,{clearable:"","show-password":"",modelValue:e(r).repeatPassword,"onUpdate:modelValue":o[5]||(o[5]=a=>e(r).repeatPassword=a),placeholder:"\u786E\u8BA4\u5BC6\u7801","prefix-icon":e(p)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:300},{default:u(()=>[l(s,null,{default:u(()=>[l(b,{modelValue:_.value,"onUpdate:modelValue":o[6]||(o[6]=a=>_.value=a)},{default:u(()=>[S]),_:1},8,["modelValue"]),l(c,{type:"text"},{default:u(()=>[z]),_:1})]),_:1})]),_:1}),l(e(d),{delay:350},{default:u(()=>[l(s,null,{default:u(()=>[l(c,{class:"w-full",size:"default",type:"primary",loading:n.value,onClick:o[7]||(o[7]=a=>x(C.value))},{default:u(()=>[q]),_:1},8,["loading"])]),_:1})]),_:1}),l(e(d),{delay:400},{default:u(()=>[l(s,null,{default:u(()=>[l(c,{class:"w-full",size:"default",onClick:E},{default:u(()=>[G]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{L as default};
