import{M as n}from"./motion.0c663bd5.js";import{u as _,a as F}from"./verifyCode.5b134244.js";import{T as b}from"./index.a437d699.js";import{y as k,L as C,ac as g,I as p,o as h,D,S as u,H as o,C as e,q as R,J as w,G as U,cp as A}from"./index.b2cfb768.js";import{u as f}from"./hooks.16c1305b.js";const P={class:"w-full flex justify-between"},T=w(" \u786E\u5B9A "),N=w(" \u8FD4\u56DE "),$=k({setup(S){const d=C(!1),a=g({phone:"",verifyCode:"",password:"",repeatPassword:""}),m=C(),{isDisabled:y,text:v}=_(),B=[{validator:(i,l,r)=>{l===""?r(new Error("\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801")):a.password!==l?r(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!")):r()},trigger:"blur"}],V=async i=>{d.value=!0,i&&await i.validate((l,r)=>{if(l)setTimeout(()=>{b.success("\u4FEE\u6539\u5BC6\u7801\u6210\u529F"),d.value=!1},2e3);else return d.value=!1,r})};function E(){_().end(),A().SET_CURRENTPAGE(0)}return(i,l)=>{const r=p("el-input"),t=p("el-form-item"),c=p("el-button"),x=p("el-form");return h(),D(x,{ref_key:"ruleFormRef",ref:m,model:e(a),rules:e(F),size:"large"},{default:u(()=>[o(e(n),null,{default:u(()=>[o(t,{prop:"phone"},{default:u(()=>[o(r,{clearable:"",modelValue:e(a).phone,"onUpdate:modelValue":l[0]||(l[0]=s=>e(a).phone=s),placeholder:"\u624B\u673A\u53F7\u7801","prefix-icon":e(f)("iphone")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(n),{delay:100},{default:u(()=>[o(t,{prop:"verifyCode"},{default:u(()=>[R("div",P,[o(r,{clearable:"",modelValue:e(a).verifyCode,"onUpdate:modelValue":l[1]||(l[1]=s=>e(a).verifyCode=s),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801","prefix-icon":e(f)("ri:shield-keyhole-line",{online:!0})},null,8,["modelValue","prefix-icon"]),o(c,{disabled:e(y),class:"ml-2",onClick:l[2]||(l[2]=s=>e(_)().start(m.value,"phone"))},{default:u(()=>[w(U(e(v)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(e(n),{delay:150},{default:u(()=>[o(t,{prop:"password"},{default:u(()=>[o(r,{clearable:"","show-password":"",modelValue:e(a).password,"onUpdate:modelValue":l[3]||(l[3]=s=>e(a).password=s),placeholder:"\u5BC6\u7801","prefix-icon":e(f)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(n),{delay:200},{default:u(()=>[o(t,{rules:B,prop:"repeatPassword"},{default:u(()=>[o(r,{clearable:"","show-password":"",modelValue:e(a).repeatPassword,"onUpdate:modelValue":l[4]||(l[4]=s=>e(a).repeatPassword=s),placeholder:"\u786E\u8BA4\u5BC6\u7801","prefix-icon":e(f)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(n),{delay:250},{default:u(()=>[o(t,null,{default:u(()=>[o(c,{class:"w-full",size:"default",type:"primary",loading:d.value,onClick:l[5]||(l[5]=s=>V(m.value))},{default:u(()=>[T]),_:1},8,["loading"])]),_:1})]),_:1}),o(e(n),{delay:300},{default:u(()=>[o(t,null,{default:u(()=>[o(c,{class:"w-full",size:"default",onClick:E},{default:u(()=>[N]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{$ as default};
